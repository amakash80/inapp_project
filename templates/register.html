{% extends 'base.html' %}

{% block title %}Registration - Create an Account{% endblock %}
{% block content %}
<div class="registration-image">
    <div class="container">
        <div class="left-reg">
            <br><br><br><br><br><br>
            <h2>Transform your learning experience with Mad Edutech.</h2>
            <p>Register now and lead the way!</p>
        </div>
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                <div class="flash-messages">
                    {% for category, message in messages %}
                        <div class="flash {{ category }}">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        <div class="form-card">
            <h3>Create an Account</h3>
        <form method="POST" action="{{ url_for('register') }}">
            {{ form.hidden_tag() }}
            <div class="row">
                <div class="input-group">
                    {{ form.firstname.label }}
                    {{ form.firstname() }}
                    {% if form.firstname.errors %}
                        <div class="error">{{ form.firstname.errors[0] }}</div>
                    {% endif %}
                </div>
                <div class="input-group">
                    {{ form.lastname.label }}
                    {{ form.lastname() }}
                    {% if form.lastname.errors %}
                        <div class="error">{{ form.lastname.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>
                
            <div class="row">
                <div class="input-group">
                    {{ form.birthday.label }}
                    {{ form.birthday() }}
                    {% if form.birthday.errors %}
                        <div class="error">{{ form.birthday.errors[0] }}</div>
                    {% endif %}
                </div>
                <div class="input-group">
                    {{ form.gender.label }}
                    {{ form.gender() }}
                    {% if form.gender.errors %}
                        <div class="error">{{ form.gender.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <div class="input-group">
                    {{ form.email.label }}
                    {{ form.email() }}
                    {% if form.email.errors %}
                        <div class="error">{{ form.email.errors[0] }}</div>
                    {% endif %}
                </div>

                <div class="input-group">
                    {{ form.phone.label }}
                    {{ form.phone() }}
                    {% if form.phone.errors %}
                        <div class="error">{{ form.phone.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="row">
                <div class="input-group">
                    {{ form.state.label }}
                    {{ form.state() }}
                    {% if form.state.errors %}
                        <div class="error">{{ form.state.errors[0] }}</div>
                    {% endif %}
                </div>
                <div class="input-group">
                    {{ form.city.label }}
                    {{ form.city() }}
                    {% if form.city.errors %}
                        <div class="error">{{ form.city.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>

<!-- Qualifications Checkbox Section -->
<div class="row">
    <div class="input-group">
        <label for="qualifications">Qualifications:</label>
        <div class="checkbox-group">
            {% for value, label in form.qualifications.choices %}
                <div class="checkbox-container">
                    <input type="checkbox" name="qualifications" value="{{ value }}"
                           {% if form.qualifications.data and value in form.qualifications.data %} checked {% endif %}>
                    {{ label }}
                </div>
            {% endfor %}
        </div>
        {% if form.qualifications.errors %}
            <div class="error">{{ form.qualifications.errors[0] }}</div>
        {% endif %}
    </div>
</div>

            <div class="row">
                <div class="input-group">
                    {{ form.password.label }}
                    {{ form.password() }}
                    {% if form.password.errors %}
                        <div class="error">{{ form.password.errors[0] }}</div>
                    {% endif %}
                </div>

                <div class="input-group">
                    {{ form.confirmpassword.label }}
                    {{ form.confirmpassword() }}
                    {% if form.confirmpassword.errors %}
                        <div class="error">{{ form.confirmpassword.errors[0] }}</div>
                    {% endif %}
                </div>
            </div>

            <div class="input-group">
                <button type="submit">Register</button>
            </div>
        </form>
        </div>
    </div>
</div>
{% endblock %}
{% block script %}
    <script src="{{ url_for('static', filename='js/common.js') }}"></script>
{% endblock %}